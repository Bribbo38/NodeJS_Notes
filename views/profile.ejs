<!DOCTYPE html>
<html lang="en">

<%- include('partials/head', { title: 'User Profile' }) %>

    <body class="bg-base-300 flex flex-col min-h-screen">
        <%- include('partials/header') %>

            <main class="flex-grow flex items-center justify-center text-center min-h-screen">
                <div class="container mx-auto px-4 py-10">
                    <div class="bg-base-200 p-8 rounded-lg shadow-lg max-w-3xl mx-auto min-h-[30rem]">
                        <h1 class="text-3xl font-bold text-primary mb-6">User Profile</h1>

                        <!-- DaisyUI Tabs -->
                        <div role="tablist" class="tabs tabs-lifted">
                            <!-- Tab 1: Personal Info -->
                            <input type="radio" name="my_tabs_1" id="tab-1" role="tab" class="tab text-base"
                                aria-label="Profile Informations" checked="checked" />

                            <!-- Personal Info Tab Content -->
                            <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-10">
                                <ul class="space-y-4">
                                    <li><strong>Name:</strong>
                                        <%= user.name %>
                                    </li>
                                    <li><strong>Surname:</strong>
                                        <%= user.surname %>
                                    </li>
                                    <li><strong>Email:</strong>
                                        <%= user.email.split('@')[0].substring(0, 2) + '*****' + '@' +
                                            user.email.split('@')[1] %>
                                    </li>
                                </ul>
                            </div>

                            <!-- Tab 2: Update Name and Surname -->
                            <input type="radio" name="my_tabs_1" id="tab-2" role="tab" class="tab text-base"
                                aria-label="Modify Profile" />

                            <!-- Update Name & Surname Tab Content -->
                            <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
                                <form action="/profile/update/name" method="POST">
                                    <div class="form-control mb-4">
                                        <label class="label"><span class="label-text">Name</span></label>
                                        <input type="text" name="name" class="input input-bordered w-full"
                                            value="<%= user.name %>" required />
                                    </div>
                                    <div class="form-control mb-4">
                                        <label class="label"><span class="label-text">Surname</span></label>
                                        <input type="text" name="surname" class="input input-bordered w-full"
                                            value="<%= user.surname %>" required />
                                    </div>
                                    <div class="form-control mt-6">
                                        <button type="submit" class="btn btn-primary w-1/3 ms-auto">Update
                                            Informations</button>
                                    </div>
                                </form>
                            </div>

                            <!-- Tab 3: Change Password -->
                            <input type="radio" name="my_tabs_1" id="tab-3" role="tab" class="tab text-base"
                                aria-label="Change Password" />

                            <!-- Change Password Tab Content -->
                            <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
                                <form action="/profile/update/password" method="POST">
                                    <div class="form-control mb-4">
                                        <label class="label"><span class="label-text">New Password</span></label>
                                        <input type="password" name="newPassword" class="input input-bordered w-full"
                                            required />
                                    </div>
                                    <div class="form-control mb-4">
                                        <label class="label"><span class="label-text">Confirm New
                                                Password</span></label>
                                        <input type="password" name="confirmPassword"
                                            class="input input-bordered w-full" required />
                                    </div>
                                    <div class="form-control mt-6">
                                        <button type="submit" class="btn btn-primary w-1/3 ms-auto">Change
                                            Password</button>
                                    </div>
                                </form>
                            </div>

                            <!-- Tab 4: Delete Account -->
                            <input type="radio" name="my_tabs_1" id="tab-4" role="tab" class="tab text-base"
                                aria-label="Delete Account" />

                            <!-- Delete Account Tab Content -->
                            <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
                                <form action="/profile/delete" method="POST">
                                    <p>Do you want to delete this accout?</p>
                                    <div class="form-control mt-6">
                                        <button type="submit" class="btn btn-error w-1/2 mx-auto"
                                            onclick="return confirm('Are you sure you want to delete your account?\nEvery note will be lost!');">
                                            Delete My Account
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <%- include('partials/footer') %>

    </body>

</html>